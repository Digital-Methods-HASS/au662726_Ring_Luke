---
title: "Navigating the Storm: A Data-Driven Approach to Reducing the Impact of Natural Disasters"
keywords: 
    - Sonification
    - Motion Capture
    - Realtime
    - Processing
authors:
- name: Luke Ring
  affiliation: 1
  student_id: 202009983
  initials: LR
  citation: "Ring, L."
affiliations:
- name: Aarhus University
  index: 1
abstract: ".."
date: "12 January 2023"
submitted: "12 January 2023"
degree: "BSc Cognitive Science"
supervisor: "Adela Sobotkova"
faculty: "Faculty of Arts"
university: "Aarhus University"
course: "Cultural Data Science (147201E001)"
year: 2023
bibliography:
    - master.bib
    - packages.bib
biblio-title: References
biblio-style: apa
link-citations: true
colorlinks: true
urlcolor: NavyBlue
linkcolor: Mulberry
citecolor: BrickRed
toccolor: Black
# geometry: margin=2.5cm
mainfont: georgia
sansfont: "Calibri"
monofont: "Hack Nerd Font"
fontsize: 11pt
spacing: double
# set this to false when the document is ready for submission
draft: false
# set this to false if the last page or refs look bad
aligncols: true
output:
    bookdown::pdf_document2:
        keep_tex: yes
        extra_dependencies: ["flafter", "biblatex"]
        latex_engine: xelatex 
        citation_package: biblatex
        toc: no
        number_sections: yes
        fig_caption: yes
        template: templates/latex_template.tex
csl: templates/apa7.csl
repository: https\://github.com/Digital-Methods-HASS/au662726_Ring_Luke/tree/main/exam
licensepath: https\://github.com/Digital-Methods-HASS/au662726_Ring_Luke/tree/main/exam/LICENSE.md
---

```{r setup, include=FALSE}
cache_dir <- "./.cache"
data_dir <- "./data/processed"
data_file <- "disasters_since_1960.rds"
main_dir <- "exam"

# set working directory if it isn't the directory of this file
wd <- getwd()
wd_parent <- dirname(wd)
if (basename(wd) != main_dir) {
    wd_parent <- wd
    wd <- paste0(wd, "/", main_dir)
    setwd(wd)
}

options(knitr.graphics.auto_pdf = TRUE)
options(knitr.table.format = "latex")
knitr::opts_knit$set(root.dir = wd)
knitr::opts_chunk$set(echo = FALSE)
# this leaves all of the intermediate files in the dir if FALSE
options(tinytex.clean = FALSE)
# make verbose TRUE to help with debugging
options(tinytex.verbose = FALSE)

# set default cran mirror
r <- getOption("repos")
r["CRAN"] <- "https://mirrors.dotsrc.org/cran/" # Denmark
options(repos = r)
rm(r)

# use this function to load packages to save manual installation
use_package <- function(p) {
    if (!is.element(p, installed.packages()[, 1]))
        install.packages(p, dep = TRUE)
        if (p == "easystats")
            easystats::install_suggested()
    require(p, character.only = TRUE)
}
# add required packages
use_package("kableExtra")
use_package("bookdown")
use_package("rticles")
use_package("tidyverse")
use_package("easystats")
use_package("ggprism")
# use_package("ggbreak")
use_package("conflicted")
use_package("colorspace")
use_package("lme4")
use_package("lmerTest")

# define base palette
colorblind_friendly_pal <- c("#0074e7", "#e7298a", "#8bcf00")
# darker version
colorblind_friendly_pal_dark <- darken(colorblind_friendly_pal, 0.5)
# make it slightly less intense
colorblind_friendly_pal <- lighten(colorblind_friendly_pal, 0.25)
options(ggplot2.discrete.colour=colorblind_friendly_pal)
options(ggplot2.discrete.fill=colorblind_friendly_pal)


# after all the packages are loaded, we can save
# a bibliography of all the packages used
# in case we need to cite them
knitr::write_bib(.packages(), "packages.bib")

```

# `r rmarkdown::metadata$title`

```{r data}
disasters <- readRDS(file.path(data_dir, data_file))

disaster_events <- nrow(disasters)

# let's exlude disasters with insufficient data (< 100 occurrences of the disaster_type)
disasters <- disasters %>%
    group_by(disaster_type) %>%
    dplyr::filter(n() >= 100) %>% ungroup()

disaster_events_excluded <- disaster_events - nrow(disasters)

# now we need to remove unused levels from the disaster_type factor
disaster_types <- disasters %>%
    group_by(disaster_type) %>%
    summarise(deaths = sum(deaths, na.rm = TRUE)) %>%
    arrange(deaths) %>% pull(disaster_type)

# update the disaster_type factor
disasters$disaster_type <- factor(
    disasters$disaster_type,
    levels = disaster_types,
    ordered = FALSE)

```

Climate change is a subject that garners significant media attention, especially in the wake of natural disasters [@comfortIgnoredBannerStory2019; @weinerClimateChangeCoverage2021]. While there is ample evidence of the effects of human greenhouse gas emissions on global climate, including some natural disasters such as droughts, extreme temperaturs and flooding, the direct link to hurricane, forest-fire and earthquake frequency is more difficult to establish. Regardless of the causality of disaster events, the continued increase in global population means more people are at risk of being affected when they occur. On this basis, this paper will investigate aspects of government spending as well as population statistics as potential predictors for the number of affected individuals and number of deaths.

# Background

Studies have shown that climate change has led to an increase in the frequency and severity of certain natural disasters, such as heatwaves, droughts, and heavy precipitation events [@alexanderGlobalObservedLongterm2016]. Additionally, research has shown that the impact of natural disasters can be exacerbated by factors such as poor land-use planning, population growth in vulnerable areas, and inadequate infrastructure [@mileti1999disasters; @taubenbockQuotLastMileQuot2009].

Government spending plays a critical role in disaster risk reduction and preparedness, as well as in the response and recovery efforts following a natural disaster. This includes funding for things like early warning systems, disaster risk assessments, and infrastructure upgrades to improve resilience to natural hazards. Adequate government spending on disaster management can help to reduce the number of affected individuals and deaths, as well as the economic impact of natural disasters. For example, countries with higher levels of government spending on disaster management tend to have lower numbers of deaths from natural disasters [@bankoffTimeEssenceDisasters2004; @eriksenRethinkingInterplayAffluence2020]. However, government spending on disaster management can vary widely between countries, and some countries may not have the financial resources to invest in adequate disaster risk reduction measures. This can exacerbate the impacts of natural disasters and increase the number of affected individuals and deaths.

This paper will use available public data to assess the impact in particular of government spending on education and healthcare on the number of deaths, as a measure of population preparedness, and the location of the population as an indication of the number of affected people. Figure \@ref(fig:   plot-deaths) shows the number of deaths from natural disasters since 1960.

```{r plot-deaths, fig.cap="Total number of deaths from natural disasters by year", fig.align="center", out.width="100%"}

disasters %>%
    group_by(year) %>%
    summarise(deaths = sum(deaths, na.rm = TRUE)) %>%
    ggplot(aes(x = year, y = deaths)) +
    geom_line() +
    geom_point() +
    labs(x = "Year",
         y = "Deaths") +
    theme_prism() +
    theme(legend.position = "none")

```

# Methods

Analyses were conducted using the R Statistical language (4.2.2) [@R-base] and Visual Studio Code (1.75.0-insiders) on Windows 11 x64 (build 22623) with an Intel Core-i5-4690K CPU with 24GB RAM, using the packages lme4 [@R-lme4], lmerTest [@R-lmerTest], easystats [@R-easystats] and tidyverse [@R-tidyverse].

### Data Acquisition and ProcessingÂ 

Population data were sourced from United Nations World Population Prospects [@unitednationsWorldPopulationProspects2022]. Economic data were sourced from the World Bank World Development Indicators [@worldbankWorldDevelopmentIndicators2022]. Disaster data were based on the EM-DAT database [@cred/uclouvainEMDATInternationalDisaster2023]. 

Disaster, population and economic data sources were combined using the ISO country code as the identifying key. Population data from 1950-2021 were joined with projected data for 2022-2100, and subsequently data were restricted to the years ranging from 1960-2022. Economic variables containing ".." were converted to NA values for use in analysis, and irrelevant variables were removed, and information regarding disaster type, deaths, country, number of people affected, population, gdp, and government expendature on the military, education and healthcare were selected for inclusion. Percentage values for the number of people affected and number of deaths were calculated by dividing the population at the time of the disaster with the total deaths and total affected values.[^preprocessing] A total of 14,920 events were included from the data, and before analysis, 134 events from disaster types with less than 100 occurrences were excluded, removing Fog, Mass movement (dry), Insect infestation, Impact, Animal accident and Glacial lake outburst, leaving a remaining total 14,786 events for analysis.

[^preprocessing]: Complete preprocessing script is available at [https://github.com/Digital-Methods-HASS/au662726_Ring_Luke/blob/main/exam/scripts/01_import_collate_source_data.R](https://github.com/Digital-Methods-HASS/au662726_Ring_Luke/blob/main/exam/scripts/01_import_collate_source_data.R)



### Models

Two main models were used to analyse the possibility of predicting the scale of effects from natural disasters. Model 1 uses the scaled value from the percentage of GDP spent on education as a predictor variable and uses the number of deaths as a percentage of the population at the time of the disaster as the outcome variable, allowing for varying intercepts based on the type of natural disaster. 

Model 2 uses the scaled value from the percentage of the population living in rural areas as a predictor variable and uses the number of affected people as a percentage of the population at the time of the disaster as the outcome variable, allowing for varying intercepts based on the type of natural disaster. 

```{r analysis}

m_edu_death <- lmerTest::lmer(deaths_pct ~ scale(edu_exp_pct_gdp) + (1 | disaster_type), data = disasters, na.action = na.exclude)

m_rural_affected <- lmerTest::lmer(affected_pct ~ scale(rural_population_pct) + (1 | disaster_type), data = disasters, na.action = na.exclude)
```

# Results

## Empircal results

### Model 1

A linear mixed model was fitted (estimated using REML and nloptwrap optimizer) to predict deaths_pct with edu_exp_pct_gdp (formula: deaths_pct ~ scale(edu_exp_pct_gdp)). The model included disaster_type as
random effect (formula: ~1 | disaster_type). The model's total explanatory power is substantial (conditional R2 = 0.70) and the part related to the fixed effects alone (marginal R2) is of 2.03e-04. The
model's intercept, corresponding to edu_exp_pct_gdp = 0, is at 0.08 (95% CI [-0.05, 0.21], t(5989) = 1.16, p = 0.246). Within this model:

  - The effect of edu exp pct gdp is statistically significant and negative (beta = -3.59e-03, 95% CI [-7.12e-03, -7.05e-05], t(5989) = -2.00, p = 0.046; Std. beta = -0.03, 95% CI [-0.05, -4.92e-04])

Standardized parameters were obtained by fitting the model on a standardized version of the dataset. 95% Confidence Intervals (CIs) and p-values were computed using a Wald t-distribution approximation.

### Model 2

A linear mixed model was fitted (estimated using REML and nloptwrap optimizer) to predict affected_pct with rural_population_pct (formula: affected_pct ~ scale(rural_population_pct)). The model included
disaster_type as random effect (formula: ~1 | disaster_type). The model's total explanatory power is substantial (conditional R2 = 0.32) and the part related to the fixed effects alone (marginal R2) is of
3.68e-03. The model's intercept, corresponding to rural_population_pct = 0, is at 21.90 (95% CI [-7.32, 51.13], t(11250) = 1.47, p = 0.142). Within this model:

  - The effect of rural population pct is statistically significant and positive (beta = 4.90, 95% CI [3.62, 6.19], t(11250) = 7.48, p < .001; Std. beta = 0.07, 95% CI [0.05, 0.08])

Standardized parameters were obtained by fitting the model on a standardized version of the dataset. 95% Confidence Intervals (CIs) and p-values were computed using a Wald t-distribution approximation.


# Discussion

While there results indicate a correlation between the predictor variables, it's difficult to draw conclusions from them because there are many confounding factors when trying to analyse the effects of natural disasters. Obviously, geographic location plays a role, as living on faultlines will increase the likelyhood of earthquakes. The same can be said for hurricanes, tsunamis and other natural disasters. The same can be said for the economic situation of a country, as a country with a higher GDP will have more resources to deal with disasters, and a country with a lower GDP will have less resources to deal with disasters.

Furthermore, there have been criticisms of the EM-DAT database containing biases in data prior to 1995 [@panwarDisasterDamageRecords2020]. As such, further analyses may include data from other sources to compare the results.

Although the results are not conclusive, they do indicate that there is a correlation between the predictor variables and the outcome variables, and that further analysis is required to determine the effects of natural disasters on the population.
There are many possible further areas of investigation with data that is already available, and could potentially yield valuable results for informing future governmnet policy, and suggesting the most effective areas to provide aid to.



<div id="refs"></div>

